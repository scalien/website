<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Scalien" />
    <meta name="author" content="Scalien" />
    
    <title>Paxos | Technology overview | Scalien - Transactional NoSQL</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    
    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/inner.css" />
    
    <script type="text/javascript" src="/assets/plugins/jquery/jquery.js"></script>
    <script type="text/javascript" src="/assets/plugins/jquery.hoverIntent.min.js"></script>
    <script type="text/javascript" src="/assets/js/common_func.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="header inner-page">
      <div class="wrap">
        <a href="/"><img class="logo" src="/assets/images/header_logo.png" alt="Scalien - Transactional NoSQL" /></a>
        
        <!-- Mainmenu -->
        <div class="menu">
          <div class="broken-line">
          </div>
          <nav id="mainmenu">
            <ul>
              <li class="item">
                <span class="mbl"></span>
                <a target="_self" href="/products/">Products</a>
                <span class="mbr"></span>
                <ul id="submenu-products" class="submenu">
                  <li class="subitem"><a target="_self" href="/products/">ScalienDB</a></li>
                  <li class="subitem"><a target="_self" href="/products/">Management Console</a></li>
                </ul>
              </li>
              <li class="item">
                <span class="mbl"></span>
                <a target="_self" href="/services.html">Services</a>
                <span class="mbr"></span>
              </li>
              <li class="mid-separator">
                &nbsp;
              </li>
              <li class="item active">
                <span class="mbl"></span>
                <a target="_self" href="/technology/">Technology</a>
                <span class="mbr"></span>
                <ul id="submenu-technology" class="submenu">
                  <li class="subitem"><a target="_self" href="/technology/">Overview</a></li>
                  <li class="subitem"><a target="_self" href="/technology/paxos.html">Paxos</a></li>
                </ul>
              </li>
              <li class="item">
                <span class="mbl"></span>
                <a target="_self" href="/company.html">Company</a>
                <span class="mbr"></span>
              </li>
            </ul>
          </nav>
          <div class="broken-line">
          </div>
        </div>  
      </div>
    </div>

    <div class="inner-content">
      <div class="wrap">
        <h2>Introduction</h2>
        <p>The Paxos algorithm was invented by computer scientist Leslie Lamport  in the 1990s. The algorithm is a protocol for nodes in a distributed system to reach consensus during the presence of faults such as nodes failing or messages being lost.</p>
        <p>In practice, it is best to think of Paxos as a way to replicate a database command - such as { set customer name to Acme Corp } - across a set of servers. ScalienDB uses subsequent rounds of Paxos to replicate subsequent database commands. Thinking of these commands as commands making up a log, with Paxos we create a replicated log, and Paxos guarantees that all servers receive the same replicated log. Since the local database itself is simply the execution of these log commands, the use of Paxos guarantees that all servers have the same local database. This is called Immediate Consistency to differentiate from Eventual Consistency, a different replication protocol employed by most other NoSQL databases.</p>
        <p>With ScalienDB, database users don’t have to chose between inferior Eventually consistent solutions, which would cause increased headaches down the road as evidenced by senior Google engineer Sean Quinlan commenting on Google’s early use of eventual consistency:</p>
        <p>“Consistency was designed to be very loose. In retrospect, that turned out to be a lot more painful than anyone expected… At the time, it must have seemed like a good idea, but in retrospect I think… it proved to be more painful than it was worth.”</p>
        <p>The Paxos algorithm lay dormant for a decade and was then popularized when Google started using it in their internal distributed database technologies. Paxos is also used in Google's later Megastore database.</p>
        <h2>Paxos in ScalienDB</h2>
        <p>In ScalienDB, we use Paxos for replicating database schema commands between controllers, and database commands between shard servers. Controllers use regular majority Paxos, while shard servers use a variation of Paxos called TotalPaxos. TotalPaxos  requires all nodes for replication to succeed. This is so because when a shard server goes offline and hence would block TotalPaxos, it is removed from its quorum by the controllers. This means that it is no longer required for replication, and TotalPaxos will proceed without it.</p>
        <p>Additionally, the ScalienDB Paxos implementation contains an optimization called MultiPaxos. MultiPaxos reduces the number of roundtrips and the number of disk syncs necessary for a Paxos round from two to one.</p>
        <p>With these optimizations, Paxos is in practice very fast for LAN replication, and ScalienDB beats most other NoSQL databases in real-world benchmarks.</p>
        <h2>PaxosLease</h2>
        <p>When using Paxos, it makes sense to elect one node to be the master, have clients send database commands to that one master node, and then have that node initiate the Paxos protocol.</p>
        <p>While Paxos solves the problem of replicating database commands, PaxosLease solves the problem of electing a node to be the leader in subsequent Paxos rounds. Like Paxos, PaxosLease is a majority algorithm and correctly works in the presence of faults such as nodes failing or messages being lost.</p>
        <p>PaxosLease guarantees that at any one time, there is exactly zero or one master. If the master node goes down, its lease automatically expires and the remaining nodes elect a new master.</p>
        <p>In ScalienDB the controllers use PaxosLease to elect a master controller.</p>
        <p>For a full description please see the PaxosLease technical paper.</p>
        <div class="clear"></div>
      </div>
    </div>
    <div class="footer">
      <div class="wrap">
        <div class="column-container">
          <div class="prod">
            <h5>Products</h5>
            
            <ul class="footer-nav upper">
              <li>
                <a href="">ScalienDB</a>
              </li>
              <li>
                <a href="">Management Console</a>
              </li>              
            </ul>
            <ul class="footer-nav">
              <li>
                <a href="">Services & Fees</a>
              </li>
              <li>
                <a href="">Customers</a>
              </li>
            </ul>
          </div>
          <div class="tech">
            <h5>Technology</h5>
            
            <ul class="footer-nav upper">
              <li>
                <a href="">Overview</a>
              </li>
              <li>
                <a href="">Paxos</a>
              </li>         
            </ul>
            <ul class="footer-nav">
              <li>
                <a href="">Documentation</a>
              </li>
              <li>
                <a href="">Company</a>
              </li>
            </ul>
          </div>
          <div class="social">
            <h5>Get social</h5>
            <div class="icons">
              <a href=""><img src="/assets/images/social_tw.png" alt=""/></a>
              <a href=""><img src="/assets/images/social_fb.png" alt=""/></a>
              <a href=""><img src="/assets/images/social_bl.png" alt=""/></a>
            </div>
          </div>
          <div class="contact">
            <h5>Contact</h5>
            <!-- Contact form TODO-->
            <form>
              <div class="contact-form">
                <div class="col-left">
                  <input type="text" placeholder="Name"/>
                  <input type="text" placeholder="E-mail"/>
                </div>
                <div class="col-right">
                  <textarea placeholder="Message"></textarea>
                  <span class="button">
                    <span class="mbl"></span>
                      <a target="_self" href="">Send</a>
                    <span class="mbr"></span>
                  </span>
                </div>
                <div class="clear"></div>
              </div>
            </form>
          </div>
          <div class="clear"></div>
        </div>
        <div class="broken-line">
        </div>
        <p class="copyright">Copyright &copy; 2012 Scalien. All rights reserved</p>
      </div>
    </div>
  </body>
</html>

